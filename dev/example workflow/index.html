<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Example Workflow · SimpleStatics.jl</title><meta name="title" content="Example Workflow · SimpleStatics.jl"/><meta property="og:title" content="Example Workflow · SimpleStatics.jl"/><meta property="twitter:title" content="Example Workflow · SimpleStatics.jl"/><meta name="description" content="Documentation for SimpleStatics.jl."/><meta property="og:description" content="Documentation for SimpleStatics.jl."/><meta property="twitter:description" content="Documentation for SimpleStatics.jl."/><meta property="og:url" content="https://Boxylmer.github.io/SimpleStatics.jl/example workflow/"/><meta property="twitter:url" content="https://Boxylmer.github.io/SimpleStatics.jl/example workflow/"/><link rel="canonical" href="https://Boxylmer.github.io/SimpleStatics.jl/example workflow/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SimpleStatics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Example Workflow</a><ul class="internal"><li><a class="tocitem" href="#.-Add-Joints"><span>1. Add Joints</span></a></li><li><a class="tocitem" href="#.-Add-Members"><span>2. Add Members</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Add-Forces"><span>3. Add Forces</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Calculate-Displacements"><span>4. Calculate Displacements</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Calculate-Member-Forces"><span>5. Calculate Member Forces</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Calculate-Reaction-Forces"><span>6. Calculate Reaction Forces</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/example1/">Example 1</a></li></ul></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Example Workflow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Example Workflow</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Boxylmer/SimpleStatics.jl/blob/main/docs/src/example workflow.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Example-Workflow"><a class="docs-heading-anchor" href="#Example-Workflow">Example Workflow</a><a id="Example-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Workflow" title="Permalink"></a></h1><p>As the name might suggest, structures can be created and analyzed with fair ease, with each problem being started with</p><pre><code class="language-julia hljs">using SimpleStatics
my_setup = StaticSetup()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">StaticSetup{Float64}(SimpleStatics.Vector2D{Float64}[], SimpleStatics.Vector2D{Float64}[], SimpleStatics.StaticConstraint[], StaticMaterial{Float64}[], Dict{SimpleStatics.UnorderedPair, Int32}(), SimpleStatics.UnorderedPair[])</code></pre><p>creating an empty statics problem which can then be filled with members, joints, forces, etc.</p><p>Lets create a simple truss to analyze. </p><h2 id=".-Add-Joints"><a class="docs-heading-anchor" href="#.-Add-Joints">1. Add Joints</a><a id=".-Add-Joints-1"></a><a class="docs-heading-anchor-permalink" href="#.-Add-Joints" title="Permalink"></a></h2><p>First, we need to add some <strong>joints</strong>. Joints act as terminals to members, which we will add in the next step. They also need <strong>constraints</strong> to dictate their movement behavior. By default, they are assigned <a href="../reference/#SimpleStatics.NoConstraint"><code>NoConstraint()</code></a>. For our first joint, which we want to keep fixed in place, we&#39;ll give it an <code>AnchorConstraint()</code>.</p><p>We can add joints using the <a href="../reference/#SimpleStatics.add_joint!-Union{Tuple{T}, Tuple{StaticSetup{T}, SimpleStatics.Vector2D{T}}, Tuple{StaticSetup{T}, SimpleStatics.Vector2D{T}, SimpleStatics.StaticConstraint}} where T"><code>add_joint!(setup, x, y, constraint)</code></a> method, which will return the index of the joint that was created. In this case, since we don&#39;t have too many joints to add, we can simply assign them to individual variables.</p><div class="admonition is-success"><header class="admonition-header">Visualizing your progress</header><div class="admonition-body"><p>You can look at what you&#39;ve created at any point by calling the <a href="../reference/#SimpleStatics.plot_setup"><code>plot_setup(::StaticSetup)</code></a> function on your setup! Below we will use this to see what we&#39;ve created in our example workflow. <em>The use of this function is shown in step 1, but is hidden in future steps.</em> </p></div></div><pre><code class="language-julia hljs">j1 = add_joint!(my_setup, 0, 0, AnchorConstraint())
j2 = add_joint!(my_setup, 1, 0)
j3 = add_joint!(my_setup, 1, 1)
j4 = add_joint!(my_setup, 2, 0)
j5 = add_joint!(my_setup, 2, 1)
j6 = add_joint!(my_setup, 3, 0)
j7 = add_joint!(my_setup, 3, 1)
j8 = add_joint!(my_setup, 4, 0)

plot_setup(my_setup)</code></pre><img src="d927cb24.svg" alt="Example block output"/><p><strong>Notice the following</strong></p><ul><li>Joint 1 was given an <a href="../reference/#SimpleStatics.AnchorConstraint"><code>AnchorConstraint()</code></a> which will keep it fixed in place. </li><li>Points were automatically labeled in the order they were created. </li><li>Constraints were depicted in green denoting the kind of motion allowed for the joint. </li></ul><p>If we want to modify constraints after the joint was already added, we can do so using the <code>set_constraint!</code> function. Lets add an <code>XRollerConstraint()</code> to <strong>J8</strong>, as we want it to stay fixed on the Y axis, but be allowed to move along the X axis.</p><pre><code class="language-julia hljs">set_constraint!(my_setup, j8, XRollerConstraint())</code></pre><img src="4a8cf4b5.svg" alt="Example block output"/><h2 id=".-Add-Members"><a class="docs-heading-anchor" href="#.-Add-Members">2. Add Members</a><a id=".-Add-Members-1"></a><a class="docs-heading-anchor-permalink" href="#.-Add-Members" title="Permalink"></a></h2><p>Now we need to connect our joints via <strong>members</strong>. </p><p>Similar to how a <strong>joint</strong> &#39;s behavior is controlled by its <strong>constraint</strong>, a <strong>member</strong>&#39;s behavior is controlled by its <strong>material</strong>, these are accessed via the <code>Materials</code> submodule. Members have a default for this as well: A <code>PerfectMaterial()</code>, which is a very thick material with a tensile strength a few orders higher than that of Tungsten, the strongest rote metal. </p><p>Lets use standard 2x4 lumber for our truss structure.</p><pre><code class="language-julia hljs">m = Materials.Pine2x4()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">StaticMaterial{Float64, Float64, Float64, Float64}(0.00338709, 4.141e9, 8.0e7, 0.8778118)</code></pre><p>We can now add members using the <a href="../reference/#SimpleStatics.add_member!-Union{Tuple{T}, Tuple{StaticSetup, Int64, Int64}, Tuple{StaticSetup, Int64, Int64, StaticMaterial{T}}} where T"><code>add_member!(setup, j1, j2, material)</code></a> function. This function will also return an identifier for each member that could be used to refer to them later on, but since we don&#39;t need to do anything directly to them after this, we don&#39;t need to assign them to anything. </p><p>Lets set up a more proper-looking truss. </p><pre><code class="language-julia hljs">add_member!(my_setup, j1, j2, m)
add_member!(my_setup, j1, j3, m)
add_member!(my_setup, j2, j3, m)
add_member!(my_setup, j2, j4, m)
add_member!(my_setup, j3, j4, m)
add_member!(my_setup, j3, j5, m)
add_member!(my_setup, j4, j5, m)
add_member!(my_setup, j4, j6, m)
add_member!(my_setup, j5, j6, m)
add_member!(my_setup, j5, j7, m)
add_member!(my_setup, j6, j7, m)
add_member!(my_setup, j6, j8, m)
add_member!(my_setup, j7, j8, m)</code></pre><img src="e7165771.svg" alt="Example block output"/><p>Whew! That was a lot of members. This can be tedious, but it&#39;s a necessary step in creating our masterpiece. Looking at the result immediately shows us the fruits of our labor, as we now have a very nice looking structure. </p><h1 id=".-Add-Forces"><a class="docs-heading-anchor" href="#.-Add-Forces">3. Add Forces</a><a id=".-Add-Forces-1"></a><a class="docs-heading-anchor-permalink" href="#.-Add-Forces" title="Permalink"></a></h1><p>This truss isn&#39;t very useful to us unless we understand more about how it handles loads! </p><p>We can add forces to joints by using the <code>set_force!(setup, j, fx, fy)</code> function. Lets add a <span>$50lbf$</span> (<span>$222.411N$</span>) load directly on the top of the truss, which would be at <strong>J5</strong> in the -Y direction. </p><pre><code class="language-julia hljs">set_force!(my_setup, j5, 0, -222.411)</code></pre><img src="e8e54c12.svg" alt="Example block output"/><p>Now we can see a very nice pink arrow depicting our force and how it&#39;s acting on our structure!</p><h1 id=".-Calculate-Displacements"><a class="docs-heading-anchor" href="#.-Calculate-Displacements">4. Calculate Displacements</a><a id=".-Calculate-Displacements-1"></a><a class="docs-heading-anchor-permalink" href="#.-Calculate-Displacements" title="Permalink"></a></h1><p>After completing step 3, we&#39;ve fully defined a statics problem. Now the question is: <em>What can we actually do with it?</em> The first question is generally centered around how the forces acting on the truss deforms it, which we can easily calculate using the <code>solve_displacements(setup)</code> function!</p><div class="admonition is-success"><header class="admonition-header">Joint indices match displacements</header><div class="admonition-body"><p>The displacements we get out of this funciton will follow the same order as the joints we created, so we can see the displacement that happened to <strong>J5</strong>, we simply access it in the calculated displacements using <code>j5</code>. We can also access each component of the displacements via <code>displacement[idx].x</code> or -<code>.y</code> if needed. </p></div></div><pre><code class="language-julia hljs">displacements = solve_displacements(my_setup)
displacements[j5]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SimpleStatics.Vector2D{Float64}(1.585711937422426e-5, -0.00010035062436817926)</code></pre><p>It looks like <strong>J5</strong> moved down by about <span>$3.4\times10^{-5}m$</span> or <span>$0.00137&quot;$</span>. This certainly isn&#39;t a lot. Let see what happened visually as well to confirm this for all of our points!</p><p>This time our plot_setup function will need to have the <code>displacements</code> data as well to be able to show us what actually happened. </p><pre><code class="language-julia hljs">plot_setup(my_setup, displacements=displacements)</code></pre><img src="0c057571.svg" alt="Example block output"/><p>Members are now displayed in green to show us the displaced structure, and sure enough, none of the points really moved. Lets try adding a few thousand more pounds to <strong>J5</strong> and seeing what happens.</p><pre><code class="language-julia hljs">set_force!(my_setup, j5, 0, -22241.11) # about 5000 pounds force.
displacements = solve_displacements(my_setup)
displacements[j5]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SimpleStatics.Vector2D{Float64}(0.0015857126503871343, -0.010035066948763126)</code></pre><img src="61f756bf.svg" alt="Example block output"/><p>Hmm... we&#39;re applying <span>$5k lbf$</span> and only seeing about <span>$0.4&quot;$</span> of sag? That doesn&#39;t sound right. Surely 2x4 lumber isn&#39;t that strong? There&#39;s good news and bad news here. </p><ul><li>Good news: The 2x4 lumber you built your truss with is <em>absolutely</em> that strong.</li><li>Bad news: The screws you used to hold them together were <em>not</em>. </li></ul><h1 id=".-Calculate-Member-Forces"><a class="docs-heading-anchor" href="#.-Calculate-Member-Forces">5. Calculate Member Forces</a><a id=".-Calculate-Member-Forces-1"></a><a class="docs-heading-anchor-permalink" href="#.-Calculate-Member-Forces" title="Permalink"></a></h1><p>Okay, so how do we solve this?  Let&#39;s say a standard deck screw can hold <span>$100lbf$</span> (<span>$444.822N$</span>)  comfortably before it shears, and we use two screws per board, getting about <span>$850N$</span> (conservatively) of force that each board (member) can handle before it breaks. </p><p>We can calculate the force each board is under with the <code>solve_member_forces(setup, displacements)</code> function. </p><div class="admonition is-success"><header class="admonition-header">Remember, plot_setup is your friend!</header><div class="admonition-body"><p>We can also pass the result of <code>solve_member_forces</code> into our <code>plot_setup</code> function using the <code>member_forces</code> keyword! Though these will only be visible if <code>displacements</code> are also present. </p></div></div><pre><code class="language-julia hljs">member_forces = solve_member_forces(my_setup, displacements)
maximum(member_forces), minimum(member_forces) # in Newtons</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(22241.110000000033, -22241.110000000015)</code></pre><p>First and foremost we notice that, as expected, our truss will be destroyed ten times over given the maximum force on the members. </p><div class="admonition is-info"><header class="admonition-header">Sign conventions are important!</header><div class="admonition-body"><p>Conventionally, negative forces indicate <strong>tension</strong> and positive forces indicate <strong>compression</strong>. This signage is arbitrary, but it&#39;s what was chosen for this library.</p></div></div><p>Lets switch back to our <span>$50lbf$</span> setup and check the maximum member force to see if we can at least bear that load without the risk of failure.</p><pre><code class="language-julia hljs">set_force!(my_setup, j5, 0, -222.411) # about 50 pounds force.
displacements = solve_displacements(my_setup)
member_forces = solve_member_forces(my_setup, displacements)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">13-element Vector{Float64}:
 -111.20550000000006
  157.2683263104815
    0.0
 -111.20550000000004
 -157.2683263104814
  222.41100000000023
  111.20550000000016
 -222.4110000000002
  157.26832631048126
  111.20550000000024
   -0.0
 -111.20550000000021
  157.2683263104815</code></pre><img src="680e2eee.svg" alt="Example block output"/><p>Now we have some interesting results! Lets go over them, noting that compressive forces are shown in red and tensile forces in blue. </p><ul><li>Notice that <strong>M3</strong> and <strong>M11</strong> are so-called <em>zero force members</em>. These members technically don&#39;t bear any load, but are necessary to constrain the system of equations that our setup has generated.</li><li><strong>M6</strong> and <strong>M8</strong> have equal and opposite forces equal to the load on <strong>J5</strong>, whereas <strong>M9</strong> and <strong>M10</strong>, as well as <strong>M4</strong> and <strong>M5</strong> are much lower, due to the load being distributed (unevenly) between the two. </li></ul><p>What will happen if we modify our truss slightly by recreating it with a member from <strong>J4</strong> to <strong>J7</strong> rather than <strong>J5</strong> to <strong>J6</strong>. </p><pre><code class="language-julia hljs">    my_setup = StaticSetup()
    j1 = add_joint!(my_setup, 0, 0, AnchorConstraint())
    # ...
    set_force!(my_setup, j5, 0, -222.411)
    displacements = solve_displacements(my_setup)
    member_forces = solve_member_forces(my_setup, displacements)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">13-element Vector{Float64}:
 -111.20550000000003
  157.2683263104816
    0.0
 -111.20550000000003
 -157.26832631048143
  222.4110000000003
  222.41099999999983
 -111.2055000000001
 -157.26832631048126
  222.41100000000026
   -0.0
 -111.20550000000026
  157.2683263104815</code></pre><img src="3011016a.svg" alt="Example block output"/><p>Apparently nothing good, as now one extra member is under a significantly higher load. What if we add a few extra cross members? </p><pre><code class="language-julia hljs">    add_member!(my_setup, j2, j5, m)
    add_member!(my_setup, j5, j6, m)
    displacements = solve_displacements(my_setup)
    member_forces = solve_member_forces(my_setup, displacements)
    maximum(member_forces), minimum(member_forces)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(161.5906924827198, -172.02580751728047)</code></pre><img src="4b9571c2.svg" alt="Example block output"/><p>The result is a bit messy, but it looks like the maximum member force was reduced!</p><h1 id=".-Calculate-Reaction-Forces"><a class="docs-heading-anchor" href="#.-Calculate-Reaction-Forces">6. Calculate Reaction Forces</a><a id=".-Calculate-Reaction-Forces-1"></a><a class="docs-heading-anchor-permalink" href="#.-Calculate-Reaction-Forces" title="Permalink"></a></h1><p>We can see how these forces are affecting our constraints by using the <code>solve_reaction_forces(setup, displacements)</code> function, then passing in the result to our <code>plot_setup</code> function with the <code>reactions</code> keyword.</p><pre><code class="language-julia hljs">    reaction_forces = solve_reaction_forces(my_setup, displacements)
    plot_setup(my_setup, displacements=displacements, member_forces=member_forces, reactions=reaction_forces)</code></pre><img src="defef0f2.svg" alt="Example block output"/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../examples/example1/">Example 1 »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.0 on <span class="colophon-date" title="Thursday 12 October 2023 05:07">Thursday 12 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
